<!DOCTYPE html>
<html>
<head>
    <title>Vue 1.0 Learning</title>
    <style type="text/css">
        .completed { text-decoration: line-through; }
    </style>
</head>
<body>

    <!-- Use components. Much readable and reusable -->
    <div id="app">
        <tasks :list="tasks"></tasks>
    </div>

    <template id="tasks-template">
        <h1>My Tasks 
            <span v-show="remaining">({{remaining}})</span>
        </h1>
        <ul v-show="list.length">
            <li :class="{completed: task.completed}" v-for="task in list" @click="toggle(task)">
                {{ task.name }}
                <span @click="delete(task)">x</span>
            </li>
        </ul>
        <p v-else>You haven't created any task.</p>

        <button @click="clearCompleted">Clear Completed</button>
    </template>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.js"></script>

    <script>
        Vue.component('tasks', {
            template: "#tasks-template",
            props: ['list'],
            methods: {
                toggle: function (task) {
                    task.completed = !task.completed;
                },
                delete: function (task) {
                    // Vue helper
                    this.list.$remove(task);
                },
                clearCompleted: function () {
                    this.list = this.list.filter(function(task) {
                        return ! task.completed;
                    });
                }
            },
            computed: {
                remaining: function() {
                    return this.list.filter(function(task) {
                        return ! task.completed;
                    }).length;
                }
            }
        });

        new Vue({
            el: "#app",
            data: {
                tasks: [
                    { name: 'Go to the store', completed: false },
                    { name: 'Get a haircut', completed: true },
                    { name: 'See Civil War', completed: false },
                    { name: 'Learn Vue.js', completed: false },
                ],
            },
        });
    </script>
</body>
</html>