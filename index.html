<!DOCTYPE html>
<html>
<head>
    <title>Vue 1.0 Learning</title>
    <style type="text/css">
        .completed { text-decoration: line-through; }
    </style>
</head>
<body>

    <!-- Use components. Much readable and reusable -->
    <div id="app">
        <tasks :list="tasks"></tasks>
    </div>

    <template id="tasks-template">
        <h1>My Tasks ({{remaining}})</h1>
        <ul>
            <li :class="{completed: task.completed}" v-for="task in list" @click="toggle(task)">{{ task.name }}</li>
        </ul>
    </template>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.js"></script>

    <script>
        Vue.component('tasks', {
            template: "#tasks-template",
            props: ['list'],
            methods: {
                toggle: function (task) {
                    task.completed = !task.completed;
                }
            },
            computed: {
                remaining: function() {
                    return this.list.filter(function(task) {
                        return ! task.completed;
                    }).length;
                }
            }
        });

        new Vue({
            el: "#app",
            data: {
                tasks: [
                    { name: 'Go to the store', completed: false },
                    { name: 'Get a haircut', completed: true },
                    { name: 'See Civil War', completed: false },
                    { name: 'Learn Vue.js', completed: false },
                ],
            },
        });
    </script>
</body>
</html>